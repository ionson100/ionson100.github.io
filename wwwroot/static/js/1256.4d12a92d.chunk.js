"use strict";(self.webpackChunkionson100_github_io=self.webpackChunkionson100_github_io||[]).push([[1256],{51256:(n,t,e)=>{e.r(t),e.d(t,{default:()=>f});var o=e(51389),i=e(65043),r=e(61225),s=e(70579);const c='import {INotifyPropertyChanged,GetRandomStrings} from "bsr-observer"\nimport {useEffect, useState} from "react";\n\nclass MSettings extends INotifyPropertyChanged {\n    public count=0;\n    increment(){\n        this.count++\n        this.OnPropertyChanged("increment")\n    }\n}\nconst settings=new MSettings()\n\n\nexport default function App() {\n\n\n    const [, setUpdate] = useState("")\n    useEffect(()=>{\n        const  id=settings.___addAction((s:string|undefined)=>{\n            console.log("func "+s);\n            setUpdate(GetRandomStrings(10))\n        });\n        return () => {settings.___removeAction(id)}\n    },[])\n\n    return (\n        <>\n            <div>\n                <button onClick={() => settings.increment()}>+1\n                    count is {settings.count}\n                </button>\n            </div>\n        </>\n    )\n}';class u extends o.u0{constructor(){super(...arguments),this.count=0}increment(){this.count++,this.OnPropertyChanged("increment")}}const a=new u;function f(){const[,n]=(0,i.useState)("");return(0,i.useEffect)((()=>{const t=a.___addAction((t=>{console.log(`func ${t}`),n((0,o.iV)(10))}));return()=>{a.___removeAction(t)}}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsxs)("button",{onClick:()=>a.increment(),children:["+1 count is ",a.count]})}),(0,s.jsx)(r.MM,{code:c})]})}},51389:(n,t,e)=>{e.d(t,{iV:()=>i,pL:()=>s,u0:()=>r});var o=e(65043);function i(n){for(var t="",e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789<>?/|.[]@#!~`$%^&*()_-+=:"',o=0;o<n;o++)t+=e.charAt(Math.floor(88*Math.random()));return t}var r=function(){function n(){this.mapAction=new Map}return n.prototype.OnPropertyChanged=function(n,t){var e=this;this.mapAction.forEach((function(o){setTimeout((function(){o.apply(e,[n,t])}))}))},n.prototype.___addAction=function(n){var t=i(10);return this.mapAction.set(t,n),t},n.prototype.___removeAction=function(n){return!!this.mapAction.has(n)&&this.mapAction.delete(n)},n}();function s(n){return function(){var t=(0,o.useState)(i(10))[1];return(0,o.useEffect)((function(){var e=n.___addAction((function(){t(i(10))}));return function(){n.___removeAction(e)}}),[]),n}}}}]);
//# sourceMappingURL=1256.4d12a92d.chunk.js.map