{"version":3,"file":"static/js/254.e51abe49.chunk.js","mappings":"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","sources":["ViewStorage/menu/contextMenu/10-4.tsx","../node_modules/bsr-context-menu/dist/esm/index.js"],"sourcesContent":["import React, {useEffect, useRef} from \"react\";\r\nimport {ContextMenu} from \"bsr-context-menu\";\r\nimport 'bsr-context-menu/dist/index.css'\r\nimport {CodeSnippetJavaScript} from \"../../codeSnippetJavaScript\";\r\n\r\nconst code=`import React, {useEffect, useRef} from \"react\";\r\nimport {ContextMenu} from \"bsr-context-menu\";\r\nimport 'bsr-context-menu/dist/index.css'\r\n\r\nfunction Body(text: string) {\r\n    return (\r\n        <div style={{width: 200, cursor: \"pointer\"}}>\r\n            <div>{text}:1</div>\r\n            <div>{text}:2</div>\r\n            <div>{text}:3</div>\r\n            <div>{text}:4</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function P10_4() {\r\n    const mRefMenu = useRef(null);\r\n    useEffect(() => {\r\n\r\n        let menu: ContextMenu | undefined;\r\n\r\n        if (mRefMenu?.current) {\r\n            menu = new ContextMenu({target: mRefMenu.current, body: Body('Menu')})\r\n        }\r\n\r\n        return () => {\r\n            menu?.ContextMenuWillUnmount();\r\n        }\r\n    }, [mRefMenu.current])\r\n\r\n    return  <div ref={mRefMenu} style={{width: 100, height: 100, background: \"grey\"}}/>\r\n}`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Body(text: string) {\r\n    return (\r\n        <div style={{width: 200, cursor: \"pointer\"}}>\r\n            <div>{text}:1</div>\r\n            <div>{text}:2</div>\r\n            <div>{text}:3</div>\r\n            <div>{text}:4</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function P10_4() {\r\n    const mRefMenu = useRef(null);\r\n    useEffect(() => {\r\n\r\n        let menu: ContextMenu | undefined;\r\n\r\n        if (mRefMenu?.current) {\r\n            menu = new ContextMenu({target: mRefMenu.current, body: Body('Menu')})\r\n        }\r\n\r\n        return () => {\r\n            menu?.ContextMenuWillUnmount();\r\n        }\r\n    }, [mRefMenu.current])\r\n\r\n    return (\r\n        <>\r\n            <div ref={mRefMenu} style={{width: 100, height: 100, background: \"grey\"}}/>\r\n            <CodeSnippetJavaScript code={code}/>\r\n        </>\r\n    )\r\n}\r\n","import { useEffect } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\r\n// require the crypto API and do not support built-in fallback to lower quality random number\r\n// generators (like Math.random()).\r\nvar getRandomValues;\r\nvar rnds8 = new Uint8Array(16);\r\nfunction rng() {\r\n  // lazy load so that environments that need to polyfill have a chance to do so\r\n  if (!getRandomValues) {\r\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\r\n    // find the complete implementation of crypto (msCrypto) on IE11.\r\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\r\n\r\n    if (!getRandomValues) {\r\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\r\n    }\r\n  }\r\n\r\n  return getRandomValues(rnds8);\r\n}\r\n\r\nvar REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\r\n\r\nfunction validate(uuid) {\r\n  return typeof uuid === 'string' && REGEX.test(uuid);\r\n}\r\n\r\n/**\r\n * Convert array of 16 byte values to UUID string format of the form:\r\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\r\n */\r\n\r\nvar byteToHex = [];\r\n\r\nfor (var i = 0; i < 256; ++i) {\r\n  byteToHex.push((i + 0x100).toString(16).substr(1));\r\n}\r\n\r\nfunction stringify(arr) {\r\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n  // Note: Be careful editing this code!  It's been tuned for performance\r\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\r\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\r\n  // of the following:\r\n  // - One or more input array values don't map to a hex octet (leading to\r\n  // \"undefined\" in the uuid)\r\n  // - Invalid input values for the RFC `version` or `variant` fields\r\n\r\n  if (!validate(uuid)) {\r\n    throw TypeError('Stringified UUID is invalid');\r\n  }\r\n\r\n  return uuid;\r\n}\r\n\r\nfunction v4(options, buf, offset) {\r\n  options = options || {};\r\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\r\n\r\n  rnds[6] = rnds[6] & 0x0f | 0x40;\r\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\r\n\r\n  return stringify(rnds);\r\n}\r\n\r\nvar MenuMap = new Map();\r\nvar ContextMenu = /** @class */ (function () {\r\n    function ContextMenu(props) {\r\n        var _this = this;\r\n        this.contextAction = function (e) {\r\n            e.preventDefault();\r\n            _this.div.style.visibility = \"hidden\";\r\n            MenuMap.forEach(function (menu) {\r\n                {\r\n                    menu.click();\r\n                }\r\n            });\r\n            _this.innerRoot.render(_this.props.body);\r\n            setTimeout(function () {\r\n                var bodyH = _this.getHeight();\r\n                var bodyW = _this.getWidth();\r\n                var bodyB = _this.div.offsetHeight;\r\n                var bodyBW = _this.div.offsetWidth;\r\n                var YY = e.pageY;\r\n                var WW = e.pageX;\r\n                //alert(YY+\" \"+WW)\r\n                if ((bodyH - YY) < bodyB + 50) {\r\n                    _this.div.style.top = (YY - bodyB) + \"px\";\r\n                    if (bodyW - WW < bodyBW + 50) {\r\n                        _this.div.style.left = (WW - bodyBW) + \"px\";\r\n                    }\r\n                    else {\r\n                        _this.div.style.left = WW + \"px\";\r\n                    }\r\n                }\r\n                else {\r\n                    _this.div.style.top = YY + \"px\";\r\n                    if (bodyW - WW < bodyBW + 50) {\r\n                        _this.div.style.left = (WW - bodyBW) + \"px\";\r\n                    }\r\n                    else {\r\n                        _this.div.style.left = WW + \"px\";\r\n                    }\r\n                }\r\n                _this.div.style.visibility = \"visible\";\r\n            }, 50);\r\n        };\r\n        this.click = this.click.bind(this);\r\n        this.props = props;\r\n        this.div = document.createElement(\"div\");\r\n        this.div.className = \"bsr-context-menu\";\r\n        this.div.style.visibility = \"hidden\";\r\n        this.innerRoot = createRoot(this.div);\r\n        document.body.appendChild(this.div);\r\n        this.id = v4();\r\n        this.div.onclick = function () {\r\n            _this.click();\r\n        };\r\n        this.ContextMenuDidMount();\r\n    }\r\n    ContextMenu.prototype.click = function () {\r\n        this.innerRoot.render(null);\r\n        this.div.style.visibility = \"hidden\";\r\n    };\r\n    ContextMenu.prototype.getHeight = function () {\r\n        var body = document.body, html = document.documentElement;\r\n        return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n    };\r\n    ContextMenu.prototype.getWidth = function () {\r\n        var body = document.body, html = document.documentElement;\r\n        return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\r\n    };\r\n    ContextMenu.prototype.ContextMenuDidMount = function () {\r\n        var _a;\r\n        window.addEventListener(\"click\", this.click);\r\n        (_a = this.props.target) === null || _a === void 0 ? void 0 : _a.addEventListener(\"contextmenu\", this.contextAction);\r\n        MenuMap.set(this.id, this);\r\n    };\r\n    ContextMenu.prototype.ContextMenuWillUnmount = function () {\r\n        var _this = this;\r\n        var _a;\r\n        window.removeEventListener(\"click\", this.click);\r\n        (_a = this.props.target) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"contextmenu\", this.contextAction);\r\n        MenuMap.delete(this.id);\r\n        setTimeout(function () {\r\n            _this.innerRoot.unmount();\r\n            document.body.removeChild(_this.div);\r\n        });\r\n    };\r\n    return ContextMenu;\r\n}());\r\n\r\nvar useContextMenu = function (target, body) {\r\n    useEffect(function () {\r\n        var menu;\r\n        if (target === null || target === void 0 ? void 0 : target.current) {\r\n            menu = new ContextMenu({ target: target.current, body: body });\r\n        }\r\n        return function () {\r\n            menu === null || menu === void 0 ? void 0 : menu.ContextMenuWillUnmount();\r\n        };\r\n    }, [body, target]);\r\n};\r\n\r\nexport { ContextMenu, useContextMenu };\r\n"],"names":["code","P10_4","mRefMenu","useRef","useEffect","menu","text","current","ContextMenu","target","body","_jsxs","style","width","cursor","children","_menu","ContextMenuWillUnmount","_Fragment","_jsx","ref","height","background","CodeSnippetJavaScript","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","REGEX","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","uuid","toLowerCase","test","validate","TypeError","v4","options","buf","rnds","random","MenuMap","Map","props","_this","this","contextAction","e","preventDefault","div","visibility","forEach","click","innerRoot","render","setTimeout","bodyH","getHeight","bodyW","getWidth","bodyB","offsetHeight","bodyBW","offsetWidth","YY","pageY","WW","pageX","top","left","document","createElement","className","createRoot","appendChild","id","onclick","ContextMenuDidMount","prototype","html","documentElement","Math","max","scrollHeight","clientHeight","scrollWidth","clientWidth","_a","window","addEventListener","set","removeEventListener","delete","unmount","removeChild","useContextMenu"],"sourceRoot":""}