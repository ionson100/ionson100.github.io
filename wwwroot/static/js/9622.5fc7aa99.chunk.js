"use strict";(self.webpackChunkionson100_github_io=self.webpackChunkionson100_github_io||[]).push([[9622],{79622:(t,n,e)=>{e.r(n),e.d(n,{default:()=>h});var i=e(51389),o=e(65043),s=e(61225),c=e(70579);class r extends i.u0{constructor(){super(...arguments),this.count=0}increment(){this.count++,this.OnPropertyChanged("increment",this.count)}decrement(){this.count--,this.OnPropertyChanged("decrement",this.count)}}const u=new r;class h extends o.Component{constructor(){super(...arguments),this.mSettings=u,this.id="",this.action=void 0}componentDidMount(){this.id=this.mSettings.___addAction(((t,n)=>{this.action=t,this.setState({count:n})}))}componentWillUnmount(){this.mSettings.___removeAction(this.id)}render(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{children:this.action}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsxs)("button",{onClick:()=>this.mSettings.increment(),children:["+1 count is ",this.mSettings.count]}),(0,c.jsxs)("button",{onClick:()=>this.mSettings.decrement(),children:["-1 count is ",this.mSettings.count]})]}),(0,c.jsx)(s.MM,{code:'import {INotifyPropertyChanged} from "bsr-observer"\nimport React from "react";\n\n\nclass MSettings extends INotifyPropertyChanged {\n    public count=0;\n    increment(){\n        this.count++\n        this.OnPropertyChanged("increment",this.count)\n    }\n    decrement(){\n        this.count--\n        this.OnPropertyChanged("decrement",this.count)\n    }\n}\nconst settings=new MSettings()\n\nexport default class App extends React.Component {\n    private mSettings=settings\n    private id=\'\'\n    private action:string|undefined\n\n    componentDidMount() {\n        this.id= this.mSettings.___addAction((s:string|undefined,count:number)=>{\n            this.action=s;\n            this.setState({count:count})\n        })\n    }\n    componentWillUnmount() {\n        this.mSettings.___removeAction(this.id)\n    }\n    render() {\n        return (\n            <>\n                <label>{this.action}</label>\n                <div style={{display:"flex"}} >\n                    <button onClick={() =>this.mSettings.increment()}>\n                        +1 count is {this.mSettings.count}\n                    </button>\n\n                    <button onClick={() => this.mSettings.decrement()}>\n                        -1 count is {this.mSettings.count}\n                    </button>\n                </div>\n            </>\n        );\n    }\n}'})]})}}},51389:(t,n,e)=>{e.d(n,{iV:()=>o,pL:()=>c,u0:()=>s});var i=e(65043);function o(t){for(var n="",e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789<>?/|.[]@#!~`$%^&*()_-+=:"',i=0;i<t;i++)n+=e.charAt(Math.floor(88*Math.random()));return n}var s=function(){function t(){this.mapAction=new Map}return t.prototype.OnPropertyChanged=function(t,n){var e=this;this.mapAction.forEach((function(i){setTimeout((function(){i.apply(e,[t,n])}))}))},t.prototype.___addAction=function(t){var n=o(10);return this.mapAction.set(n,t),n},t.prototype.___removeAction=function(t){return!!this.mapAction.has(t)&&this.mapAction.delete(t)},t}();function c(t){return function(){var n=(0,i.useState)(o(10))[1];return(0,i.useEffect)((function(){var e=t.___addAction((function(){n(o(10))}));return function(){t.___removeAction(e)}}),[]),t}}}}]);
//# sourceMappingURL=9622.5fc7aa99.chunk.js.map