"use strict";(self.webpackChunkionson100_github_io=self.webpackChunkionson100_github_io||[]).push([[9412],{29412:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var i=n(65043),o=n(41952),r=(n(9352),n(1141)),s=n(70579);const d="import React, { useRef} from 'react';\nimport {useContextMenu} from 'bsr-context-menu';\nimport 'bsr-context-menu/dist/index.css'\n\n\nfunction Body(text:string){\n    return(\n        <div style={{width:200,cursor:'pointer'}}>\n            <div>{text}:1</div>\n            <div>{text}:2</div>\n            <div>{text}:3</div>\n            <div>{text}:4</div>\n        </div>\n    )\n}\n\nexport function P10_2(){\n    const mRefMenu1=useRef(null);\n    const mRefMenu2=useRef(null);\n    useContextMenu(mRefMenu1,Body('MenuItem'))\n    useContextMenu(mRefMenu2,Body('Menu'))\n\n    return (\n        <div style={{display:'flex'}}>\n            <div ref={mRefMenu1} style={{width: 100, height: 100, background: \"#9cee98\",margin:10}}/>\n            <div ref={mRefMenu2} style={{width: 100, height: 100, background: \"#8994f2\",margin:10}}/>\n        </div>\n    )\n}";function u(t){return(0,s.jsxs)("div",{style:{width:200,cursor:"pointer"},children:[(0,s.jsxs)("div",{children:[t,":1"]}),(0,s.jsxs)("div",{children:[t,":2"]}),(0,s.jsxs)("div",{children:[t,":3"]}),(0,s.jsxs)("div",{children:[t,":4"]})]})}function c(){const t=(0,i.useRef)(null),e=(0,i.useRef)(null);return(0,o.E)(t,u("MenuItem")),(0,o.E)(e,u("Menu")),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("div",{ref:t,style:{width:100,height:100,background:"#9cee98",margin:10}}),(0,s.jsx)("div",{ref:e,style:{width:100,height:100,background:"#8994f2",margin:10}})]}),(0,s.jsx)(r.MM,{code:d})]})}},41952:(t,e,n)=>{n.d(e,{E:()=>p,t:()=>a});var i,o=n(65043),r=n(84391),s=new Uint8Array(16);function d(){if(!i&&!(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}var u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!function(t){return"string"===typeof t&&u.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n}function f(t,e,n){var i=(t=t||{}).random||(t.rng||d)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,h(i)}var v=new Map,a=function(){function t(t){var e=this;this.contextAction=function(t){t.preventDefault(),e.div.style.visibility="hidden",v.forEach((function(t){t.click()})),e.innerRoot.render(e.props.body),setTimeout((function(){var n=e.getHeight(),i=e.getWidth(),o=e.div.offsetHeight,r=e.div.offsetWidth,s=t.pageY,d=t.pageX;n-s<o+50?(e.div.style.top=s-o+"px",e.div.style.left=i-d<r+50?d-r+"px":d+"px"):(e.div.style.top=s+"px",e.div.style.left=i-d<r+50?d-r+"px":d+"px"),e.div.style.visibility="visible"}),50)},this.click=this.click.bind(this),this.props=t,this.div=document.createElement("div"),this.div.className="bsr-context-menu",this.div.style.visibility="hidden",this.innerRoot=(0,r.createRoot)(this.div),document.body.appendChild(this.div),this.id=f(),this.div.onclick=function(){e.click()},this.ContextMenuDidMount()}return t.prototype.click=function(){this.innerRoot.render(null),this.div.style.visibility="hidden"},t.prototype.getHeight=function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},t.prototype.getWidth=function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,e.clientWidth,e.scrollWidth,e.offsetWidth)},t.prototype.ContextMenuDidMount=function(){var t;window.addEventListener("click",this.click),null===(t=this.props.target)||void 0===t||t.addEventListener("contextmenu",this.contextAction),v.set(this.id,this)},t.prototype.ContextMenuWillUnmount=function(){var t,e=this;window.removeEventListener("click",this.click),null===(t=this.props.target)||void 0===t||t.removeEventListener("contextmenu",this.contextAction),v.delete(this.id),setTimeout((function(){e.innerRoot.unmount(),document.body.removeChild(e.div),e.props.target=void 0}))},t}(),p=function(t,e){(0,o.useEffect)((function(){var n;return(null===t||void 0===t?void 0:t.current)&&(n=new a({target:t.current,body:e})),function(){null===n||void 0===n||n.ContextMenuWillUnmount()}}),[e,t])}},9352:()=>{}}]);
//# sourceMappingURL=9412.d19d8c1f.chunk.js.map