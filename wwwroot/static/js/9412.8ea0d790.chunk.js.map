{"version":3,"file":"static/js/9412.8ea0d790.chunk.js","mappings":"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","sources":["ViewStorage/menu/contextMenu/10-2.tsx","../node_modules/bsr-context-menu/dist/esm/index.js"],"sourcesContent":["import React, { useRef} from \"react\";\r\nimport {useContextMenu} from \"bsr-context-menu\";\r\nimport 'bsr-context-menu/dist/index.css'\r\nimport {CodeSnippetJavaScript} from \"../../codeSnippetJavaScript\";\r\n\r\n\r\nconst code=`import React, { useRef} from 'react';\r\nimport {useContextMenu} from 'bsr-context-menu';\r\nimport 'bsr-context-menu/dist/index.css'\r\n\r\n\r\nfunction Body(text:string){\r\n    return(\r\n        <div style={{width:200,cursor:'pointer'}}>\r\n            <div>{text}:1</div>\r\n            <div>{text}:2</div>\r\n            <div>{text}:3</div>\r\n            <div>{text}:4</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function P10_2(){\r\n    const mRefMenu1=useRef(null);\r\n    const mRefMenu2=useRef(null);\r\n    useContextMenu(mRefMenu1,Body('MenuItem'))\r\n    useContextMenu(mRefMenu2,Body('Menu'))\r\n\r\n    return (\r\n        <div style={{display:'flex'}}>\r\n            <div ref={mRefMenu1} style={{width: 100, height: 100, background: \"#9cee98\",margin:10}}/>\r\n            <div ref={mRefMenu2} style={{width: 100, height: 100, background: \"#8994f2\",margin:10}}/>\r\n        </div>\r\n    )\r\n}`\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Body(text:string){\r\n    return(\r\n        <div style={{width:200,cursor:\"pointer\"}}>\r\n            <div>{text}:1</div>\r\n            <div>{text}:2</div>\r\n            <div>{text}:3</div>\r\n            <div>{text}:4</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function P10_2(){\r\n    const mRefMenu1=useRef(null);\r\n    const mRefMenu2=useRef(null);\r\n    useContextMenu(mRefMenu1,Body('MenuItem'))\r\n    useContextMenu(mRefMenu2,Body('Menu'))\r\n\r\n    return (\r\n        <>\r\n            <div style={{display: \"flex\"}}>\r\n                <div ref={mRefMenu1} style={{width: 100, height: 100, background: \"#9cee98\", margin: 10}}/>\r\n                <div ref={mRefMenu2} style={{width: 100, height: 100, background: \"#8994f2\", margin: 10}}/>\r\n            </div>\r\n            <CodeSnippetJavaScript code={code}/>\r\n        </>\r\n\r\n    )\r\n}\r\n","import { useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\n\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\nvar REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  return stringify(rnds);\n}\n\nvar MenuMap = new Map();\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(props) {\n        var _this = this;\n        this.contextAction = function (e) {\n            e.preventDefault();\n            _this.div.style.visibility = \"hidden\";\n            MenuMap.forEach(function (menu) {\n                {\n                    menu.click();\n                }\n            });\n            _this.innerRoot.render(_this.props.body);\n            setTimeout(function () {\n                var bodyH = _this.getHeight();\n                var bodyW = _this.getWidth();\n                var bodyB = _this.div.offsetHeight;\n                var bodyBW = _this.div.offsetWidth;\n                var YY = e.pageY;\n                var WW = e.pageX;\n                //alert(YY+\" \"+WW)\n                if ((bodyH - YY) < bodyB + 50) {\n                    _this.div.style.top = (YY - bodyB) + \"px\";\n                    if (bodyW - WW < bodyBW + 50) {\n                        _this.div.style.left = (WW - bodyBW) + \"px\";\n                    }\n                    else {\n                        _this.div.style.left = WW + \"px\";\n                    }\n                }\n                else {\n                    _this.div.style.top = YY + \"px\";\n                    if (bodyW - WW < bodyBW + 50) {\n                        _this.div.style.left = (WW - bodyBW) + \"px\";\n                    }\n                    else {\n                        _this.div.style.left = WW + \"px\";\n                    }\n                }\n                _this.div.style.visibility = \"visible\";\n            }, 50);\n        };\n        this.click = this.click.bind(this);\n        this.props = props;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"bsr-context-menu\";\n        this.div.style.visibility = \"hidden\";\n        this.innerRoot = createRoot(this.div);\n        document.body.appendChild(this.div);\n        this.id = v4();\n        this.div.onclick = function () {\n            _this.click();\n        };\n        this.ContextMenuDidMount();\n    }\n    ContextMenu.prototype.click = function () {\n        this.innerRoot.render(null);\n        this.div.style.visibility = \"hidden\";\n    };\n    ContextMenu.prototype.getHeight = function () {\n        var body = document.body, html = document.documentElement;\n        return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n    };\n    ContextMenu.prototype.getWidth = function () {\n        var body = document.body, html = document.documentElement;\n        return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n    };\n    ContextMenu.prototype.ContextMenuDidMount = function () {\n        var _a;\n        window.addEventListener(\"click\", this.click);\n        (_a = this.props.target) === null || _a === void 0 ? void 0 : _a.addEventListener(\"contextmenu\", this.contextAction);\n        MenuMap.set(this.id, this);\n    };\n    ContextMenu.prototype.ContextMenuWillUnmount = function () {\n        var _this = this;\n        var _a;\n        window.removeEventListener(\"click\", this.click);\n        (_a = this.props.target) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"contextmenu\", this.contextAction);\n        MenuMap.delete(this.id);\n        setTimeout(function () {\n            _this.innerRoot.unmount();\n            document.body.removeChild(_this.div);\n            _this.props.target = undefined;\n        });\n    };\n    return ContextMenu;\n}());\n\nvar useContextMenu = function (target, body) {\n    useEffect(function () {\n        var menu;\n        if (target === null || target === void 0 ? void 0 : target.current) {\n            menu = new ContextMenu({ target: target.current, body: body });\n        }\n        return function () {\n            menu === null || menu === void 0 ? void 0 : menu.ContextMenuWillUnmount();\n        };\n    }, [body, target]);\n};\n\nexport { ContextMenu, useContextMenu };\n"],"names":["code","Body","text","_jsxs","style","width","cursor","children","P10_2","mRefMenu1","useRef","mRefMenu2","useContextMenu","_Fragment","display","_jsx","ref","height","background","margin","CodeSnippetJavaScript","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","REGEX","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","uuid","toLowerCase","test","validate","TypeError","v4","options","buf","rnds","random","MenuMap","Map","ContextMenu","props","_this","this","contextAction","e","preventDefault","div","visibility","forEach","menu","click","innerRoot","render","body","setTimeout","bodyH","getHeight","bodyW","getWidth","bodyB","offsetHeight","bodyBW","offsetWidth","YY","pageY","WW","pageX","top","left","document","createElement","className","createRoot","appendChild","id","onclick","ContextMenuDidMount","prototype","html","documentElement","Math","max","scrollHeight","clientHeight","scrollWidth","clientWidth","_a","window","addEventListener","target","set","ContextMenuWillUnmount","removeEventListener","delete","unmount","removeChild","useEffect","current"],"sourceRoot":""}