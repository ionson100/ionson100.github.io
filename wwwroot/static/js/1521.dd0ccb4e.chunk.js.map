{"version":3,"file":"static/js/1521.dd0ccb4e.chunk.js","mappings":"mNA2DA,SAASA,EAAKC,GACV,OACIC,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAACC,MAAM,IAAIC,OAAO,WAAWC,SAAA,EACrCJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAML,EAAK,SACXC,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAML,EAAK,SACXC,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAML,EAAK,SACXC,EAAAA,EAAAA,MAAA,OAAAI,SAAA,CAAML,EAAK,UAGvB,CACe,MAAMM,UAAcC,EAAAA,UAK/BC,WAAAA,CAAYC,GACRC,MAAMD,GAAO,KALTE,UAAUJ,EAAAA,YAAiC,KAC3CK,UAAUL,EAAAA,YAAiC,KAC3CM,WAAK,OACLC,WAAK,CAGb,CACAC,iBAAAA,GACIC,KAAKH,MAAM,IAAII,EAAAA,EAAY,CAACC,OAAOF,KAAKL,UAAUQ,QAASC,KAAKrB,EAAK,WACrEiB,KAAKF,MAAM,IAAIG,EAAAA,EAAY,CAACC,OAAOF,KAAKJ,UAAUO,QAASC,KAAKrB,EAAK,UACzE,CACAsB,oBAAAA,GAAwB,IAADC,EAAAC,EACT,QAAVD,EAAAN,KAAKH,aAAK,IAAAS,GAAVA,EAAYE,yBACF,QAAVD,EAAAP,KAAKF,aAAK,IAAAS,GAAVA,EAAYC,wBAChB,CACAC,MAAAA,GACI,OACIxB,EAAAA,EAAAA,MAAAyB,EAAAA,SAAA,CAAArB,SAAA,EACIJ,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAACyB,QAAS,QAAQtB,SAAA,EAC1BuB,EAAAA,EAAAA,KAAA,OAAKC,IAAKb,KAAKL,UAAWT,MAAO,CAACC,MAAO,IAAK2B,OAAQ,IAAKC,WAAY,UAAWC,OAAQ,OAC1FJ,EAAAA,EAAAA,KAAA,OAAKC,IAAKb,KAAKJ,UAAWV,MAAO,CAACC,MAAO,IAAK2B,OAAQ,IAAKC,WAAY,UAAWC,OAAQ,UAE9FJ,EAAAA,EAAAA,KAACK,EAAAA,GAAqB,CAACC,KAtF5B,o5CAyFP,E,+CCzFAC,E,sBACAC,EAAQ,IAAIC,WAAW,IAC3B,SAASC,IAEP,IAAKH,KAGHA,EAAoC,qBAAXI,QAA0BA,OAAOJ,iBAAmBI,OAAOJ,gBAAgBK,KAAKD,SAA+B,qBAAbE,UAAgE,oBAA7BA,SAASN,iBAAkCM,SAASN,gBAAgBK,KAAKC,WAGrO,MAAM,IAAIC,MAAM,4GAIpB,OAAOP,EAAgBC,EACzB,CAEA,IAAIO,EAAQ,sHAaZ,IAFA,IAAIC,EAAY,GAEPC,EAAI,EAAGA,EAAI,MAAOA,EACzBD,EAAUE,MAAMD,EAAI,KAAOE,SAAS,IAAIC,OAAO,IAGjD,SAASC,EAAUC,GACjB,IAAIC,EAASC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,EAG7EG,GAAQX,EAAUM,EAAIC,EAAS,IAAMP,EAAUM,EAAIC,EAAS,IAAMP,EAAUM,EAAIC,EAAS,IAAMP,EAAUM,EAAIC,EAAS,IAAM,IAAMP,EAAUM,EAAIC,EAAS,IAAMP,EAAUM,EAAIC,EAAS,IAAM,IAAMP,EAAUM,EAAIC,EAAS,IAAMP,EAAUM,EAAIC,EAAS,IAAM,IAAMP,EAAUM,EAAIC,EAAS,IAAMP,EAAUM,EAAIC,EAAS,IAAM,IAAMP,EAAUM,EAAIC,EAAS,KAAOP,EAAUM,EAAIC,EAAS,KAAOP,EAAUM,EAAIC,EAAS,KAAOP,EAAUM,EAAIC,EAAS,KAAOP,EAAUM,EAAIC,EAAS,KAAOP,EAAUM,EAAIC,EAAS,MAAMK,cAMzf,IAzBF,SAAkBD,GAChB,MAAuB,kBAATA,GAAqBZ,EAAMc,KAAKF,EAChD,CAuBOG,CAASH,GACZ,MAAMI,UAAU,+BAGlB,OAAOJ,CACT,CAEA,SAASK,EAAGC,EAASC,EAAKX,GAExB,IAAIY,GADJF,EAAUA,GAAW,CAAC,GACHG,SAAWH,EAAQvB,KAAOA,KAK7C,OAHAyB,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEpBd,EAAUc,EACnB,CAEA,IAAIE,EAAU,IAAIC,IACdjD,EAA6B,WAC7B,SAASA,EAAYR,GACjB,IAAI0D,EAAQnD,KACZA,KAAKoD,cAAgB,SAAUC,GAC3BA,EAAEC,iBACFH,EAAMI,IAAIrE,MAAMsE,WAAa,SAC7BP,EAAQQ,SAAQ,SAAUC,GAElBA,EAAKC,OAEb,IACAR,EAAMS,UAAUnD,OAAO0C,EAAM1D,MAAMW,MACnCyD,YAAW,WACP,IAAIC,EAAQX,EAAMY,YACdC,EAAQb,EAAMc,WACdC,EAAQf,EAAMI,IAAIY,aAClBC,EAASjB,EAAMI,IAAIc,YACnBC,EAAKjB,EAAEkB,MACPC,EAAKnB,EAAEoB,MAENX,EAAQQ,EAAMJ,EAAQ,IACvBf,EAAMI,IAAIrE,MAAMwF,IAAOJ,EAAKJ,EAAS,KAEjCf,EAAMI,IAAIrE,MAAMyF,KADhBX,EAAQQ,EAAKJ,EAAS,GACEI,EAAKJ,EAAU,KAGhBI,EAAK,OAIhCrB,EAAMI,IAAIrE,MAAMwF,IAAMJ,EAAK,KAEvBnB,EAAMI,IAAIrE,MAAMyF,KADhBX,EAAQQ,EAAKJ,EAAS,GACEI,EAAKJ,EAAU,KAGhBI,EAAK,MAGpCrB,EAAMI,IAAIrE,MAAMsE,WAAa,SACjC,GAAG,GACP,EACAxD,KAAK2D,MAAQ3D,KAAK2D,MAAMnC,KAAKxB,MAC7BA,KAAKP,MAAQA,EACbO,KAAKuD,IAAMqB,SAASC,cAAc,OAClC7E,KAAKuD,IAAIuB,UAAY,mBACrB9E,KAAKuD,IAAIrE,MAAMsE,WAAa,SAC5BxD,KAAK4D,WAAYmB,EAAAA,EAAAA,YAAW/E,KAAKuD,KACjCqB,SAASxE,KAAK4E,YAAYhF,KAAKuD,KAC/BvD,KAAKiF,GAAKrC,IACV5C,KAAKuD,IAAI2B,QAAU,WACf/B,EAAMQ,OACV,EACA3D,KAAKmF,qBACT,CA8BA,OA7BAlF,EAAYmF,UAAUzB,MAAQ,WAC1B3D,KAAK4D,UAAUnD,OAAO,MACtBT,KAAKuD,IAAIrE,MAAMsE,WAAa,QAChC,EACAvD,EAAYmF,UAAUrB,UAAY,WAC9B,IAAI3D,EAAOwE,SAASxE,KAAMiF,EAAOT,SAASU,gBAC1C,OAAOC,KAAKC,IAAIpF,EAAKqF,aAAcrF,EAAK+D,aAAckB,EAAKK,aAAcL,EAAKI,aAAcJ,EAAKlB,aACrG,EACAlE,EAAYmF,UAAUnB,SAAW,WAC7B,IAAI7D,EAAOwE,SAASxE,KAAMiF,EAAOT,SAASU,gBAC1C,OAAOC,KAAKC,IAAIpF,EAAKuF,YAAavF,EAAKiE,YAAagB,EAAKO,YAAaP,EAAKM,YAAaN,EAAKhB,YACjG,EACApE,EAAYmF,UAAUD,oBAAsB,WACxC,IAAIU,EACJC,OAAOC,iBAAiB,QAAS/F,KAAK2D,OACT,QAA5BkC,EAAK7F,KAAKP,MAAMS,cAA2B,IAAP2F,GAAyBA,EAAGE,iBAAiB,cAAe/F,KAAKoD,eACtGH,EAAQ+C,IAAIhG,KAAKiF,GAAIjF,KACzB,EACAC,EAAYmF,UAAU5E,uBAAyB,WAC3C,IACIqF,EADA1C,EAAQnD,KAEZ8F,OAAOG,oBAAoB,QAASjG,KAAK2D,OACZ,QAA5BkC,EAAK7F,KAAKP,MAAMS,cAA2B,IAAP2F,GAAyBA,EAAGI,oBAAoB,cAAejG,KAAKoD,eACzGH,EAAQiD,OAAOlG,KAAKiF,IACpBpB,YAAW,WACPV,EAAMS,UAAUuC,UAChBvB,SAASxE,KAAKgG,YAAYjD,EAAMI,IACpC,GACJ,EACOtD,CACX,CApFiC,GAsF7BoG,EAAiB,SAAUnG,EAAQE,IACnCkG,EAAAA,EAAAA,YAAU,WACN,IAAI5C,EAIJ,OAHe,OAAXxD,QAA8B,IAAXA,OAAoB,EAASA,EAAOC,WACvDuD,EAAO,IAAIzD,EAAY,CAAEC,OAAQA,EAAOC,QAASC,KAAMA,KAEpD,WACM,OAATsD,QAA0B,IAATA,GAA2BA,EAAKlD,wBACrD,CACJ,GAAG,CAACJ,EAAMF,GACd,C","sources":["ViewStorage/menu/contextMenu/10-3.tsx","../node_modules/bsr-context-menu/dist/esm/index.js"],"sourcesContent":["import React from \"react\";\r\nimport {ContextMenu} from \"bsr-context-menu\";\r\nimport 'bsr-context-menu/dist/index.css'\r\nimport {CodeSnippetJavaScript} from \"../../codeSnippetJavaScript\";\r\n\r\n\r\nconst code=`import React from \"react\";\r\nimport {ContextMenu} from \"bsr-context-menu\";\r\nimport 'bsr-context-menu/dist/index.css'\r\n\r\nfunction Body(text:string){\r\n    return(\r\n        <div style={{width:200,cursor:\"pointer\"}}>\r\n            <div>{text}:1</div>\r\n            <div>{text}:2</div>\r\n            <div>{text}:3</div>\r\n            <div>{text}:4</div>\r\n        </div>\r\n    )\r\n}\r\nexport default class P10_3 extends React.Component<any, any>{\r\n    private mRefMenu1=React.createRef<HTMLDivElement>()\r\n    private mRefMenu2=React.createRef<HTMLDivElement>()\r\n    private menu1?:ContextMenu\r\n    private menu2?:ContextMenu\r\n    constructor(props:Readonly<any>) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        this.menu1=new ContextMenu({target:this.mRefMenu1.current!,body:Body(\"Menu1\")})\r\n        this.menu2=new ContextMenu({target:this.mRefMenu2.current!,body:Body(\"Menu2\")})\r\n    }\r\n    componentWillUnmount() {\r\n        this.menu1?.ContextMenuWillUnmount()\r\n        this.menu2?.ContextMenuWillUnmount()\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <div style={{display: \"flex\"}}>\r\n                    <div ref={this.mRefMenu1} style={{width: 100, height: 100, background: \"#9cee98\", margin: 10}}/>\r\n                    <div ref={this.mRefMenu2} style={{width: 100, height: 100, background: \"#8994f2\", margin: 10}}/>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Body(text:string){\r\n    return(\r\n        <div style={{width:200,cursor:\"pointer\"}}>\r\n            <div>{text}:1</div>\r\n            <div>{text}:2</div>\r\n            <div>{text}:3</div>\r\n            <div>{text}:4</div>\r\n        </div>\r\n    )\r\n}\r\nexport default class P10_3 extends React.Component<any, any>{\r\n    private mRefMenu1=React.createRef<HTMLDivElement>()\r\n    private mRefMenu2=React.createRef<HTMLDivElement>()\r\n    private menu1?:ContextMenu\r\n    private menu2?:ContextMenu\r\n    constructor(props:Readonly<any>) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        this.menu1=new ContextMenu({target:this.mRefMenu1.current!,body:Body(\"Menu1\")})\r\n        this.menu2=new ContextMenu({target:this.mRefMenu2.current!,body:Body(\"Menu2\")})\r\n    }\r\n    componentWillUnmount() {\r\n        this.menu1?.ContextMenuWillUnmount()\r\n        this.menu2?.ContextMenuWillUnmount()\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <div style={{display: \"flex\"}}>\r\n                    <div ref={this.mRefMenu1} style={{width: 100, height: 100, background: \"#9cee98\", margin: 10}}/>\r\n                    <div ref={this.mRefMenu2} style={{width: 100, height: 100, background: \"#8994f2\", margin: 10}}/>\r\n                </div>\r\n                <CodeSnippetJavaScript code={code}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import { useEffect } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\r\n// require the crypto API and do not support built-in fallback to lower quality random number\r\n// generators (like Math.random()).\r\nvar getRandomValues;\r\nvar rnds8 = new Uint8Array(16);\r\nfunction rng() {\r\n  // lazy load so that environments that need to polyfill have a chance to do so\r\n  if (!getRandomValues) {\r\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\r\n    // find the complete implementation of crypto (msCrypto) on IE11.\r\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\r\n\r\n    if (!getRandomValues) {\r\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\r\n    }\r\n  }\r\n\r\n  return getRandomValues(rnds8);\r\n}\r\n\r\nvar REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\r\n\r\nfunction validate(uuid) {\r\n  return typeof uuid === 'string' && REGEX.test(uuid);\r\n}\r\n\r\n/**\r\n * Convert array of 16 byte values to UUID string format of the form:\r\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\r\n */\r\n\r\nvar byteToHex = [];\r\n\r\nfor (var i = 0; i < 256; ++i) {\r\n  byteToHex.push((i + 0x100).toString(16).substr(1));\r\n}\r\n\r\nfunction stringify(arr) {\r\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n  // Note: Be careful editing this code!  It's been tuned for performance\r\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\r\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\r\n  // of the following:\r\n  // - One or more input array values don't map to a hex octet (leading to\r\n  // \"undefined\" in the uuid)\r\n  // - Invalid input values for the RFC `version` or `variant` fields\r\n\r\n  if (!validate(uuid)) {\r\n    throw TypeError('Stringified UUID is invalid');\r\n  }\r\n\r\n  return uuid;\r\n}\r\n\r\nfunction v4(options, buf, offset) {\r\n  options = options || {};\r\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\r\n\r\n  rnds[6] = rnds[6] & 0x0f | 0x40;\r\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\r\n\r\n  return stringify(rnds);\r\n}\r\n\r\nvar MenuMap = new Map();\r\nvar ContextMenu = /** @class */ (function () {\r\n    function ContextMenu(props) {\r\n        var _this = this;\r\n        this.contextAction = function (e) {\r\n            e.preventDefault();\r\n            _this.div.style.visibility = \"hidden\";\r\n            MenuMap.forEach(function (menu) {\r\n                {\r\n                    menu.click();\r\n                }\r\n            });\r\n            _this.innerRoot.render(_this.props.body);\r\n            setTimeout(function () {\r\n                var bodyH = _this.getHeight();\r\n                var bodyW = _this.getWidth();\r\n                var bodyB = _this.div.offsetHeight;\r\n                var bodyBW = _this.div.offsetWidth;\r\n                var YY = e.pageY;\r\n                var WW = e.pageX;\r\n                //alert(YY+\" \"+WW)\r\n                if ((bodyH - YY) < bodyB + 50) {\r\n                    _this.div.style.top = (YY - bodyB) + \"px\";\r\n                    if (bodyW - WW < bodyBW + 50) {\r\n                        _this.div.style.left = (WW - bodyBW) + \"px\";\r\n                    }\r\n                    else {\r\n                        _this.div.style.left = WW + \"px\";\r\n                    }\r\n                }\r\n                else {\r\n                    _this.div.style.top = YY + \"px\";\r\n                    if (bodyW - WW < bodyBW + 50) {\r\n                        _this.div.style.left = (WW - bodyBW) + \"px\";\r\n                    }\r\n                    else {\r\n                        _this.div.style.left = WW + \"px\";\r\n                    }\r\n                }\r\n                _this.div.style.visibility = \"visible\";\r\n            }, 50);\r\n        };\r\n        this.click = this.click.bind(this);\r\n        this.props = props;\r\n        this.div = document.createElement(\"div\");\r\n        this.div.className = \"bsr-context-menu\";\r\n        this.div.style.visibility = \"hidden\";\r\n        this.innerRoot = createRoot(this.div);\r\n        document.body.appendChild(this.div);\r\n        this.id = v4();\r\n        this.div.onclick = function () {\r\n            _this.click();\r\n        };\r\n        this.ContextMenuDidMount();\r\n    }\r\n    ContextMenu.prototype.click = function () {\r\n        this.innerRoot.render(null);\r\n        this.div.style.visibility = \"hidden\";\r\n    };\r\n    ContextMenu.prototype.getHeight = function () {\r\n        var body = document.body, html = document.documentElement;\r\n        return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n    };\r\n    ContextMenu.prototype.getWidth = function () {\r\n        var body = document.body, html = document.documentElement;\r\n        return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\r\n    };\r\n    ContextMenu.prototype.ContextMenuDidMount = function () {\r\n        var _a;\r\n        window.addEventListener(\"click\", this.click);\r\n        (_a = this.props.target) === null || _a === void 0 ? void 0 : _a.addEventListener(\"contextmenu\", this.contextAction);\r\n        MenuMap.set(this.id, this);\r\n    };\r\n    ContextMenu.prototype.ContextMenuWillUnmount = function () {\r\n        var _this = this;\r\n        var _a;\r\n        window.removeEventListener(\"click\", this.click);\r\n        (_a = this.props.target) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"contextmenu\", this.contextAction);\r\n        MenuMap.delete(this.id);\r\n        setTimeout(function () {\r\n            _this.innerRoot.unmount();\r\n            document.body.removeChild(_this.div);\r\n        });\r\n    };\r\n    return ContextMenu;\r\n}());\r\n\r\nvar useContextMenu = function (target, body) {\r\n    useEffect(function () {\r\n        var menu;\r\n        if (target === null || target === void 0 ? void 0 : target.current) {\r\n            menu = new ContextMenu({ target: target.current, body: body });\r\n        }\r\n        return function () {\r\n            menu === null || menu === void 0 ? void 0 : menu.ContextMenuWillUnmount();\r\n        };\r\n    }, [body, target]);\r\n};\r\n\r\nexport { ContextMenu, useContextMenu };\r\n"],"names":["Body","text","_jsxs","style","width","cursor","children","P10_3","React","constructor","props","super","mRefMenu1","mRefMenu2","menu1","menu2","componentDidMount","this","ContextMenu","target","current","body","componentWillUnmount","_this$menu","_this$menu2","ContextMenuWillUnmount","render","_Fragment","display","_jsx","ref","height","background","margin","CodeSnippetJavaScript","code","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","REGEX","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","uuid","toLowerCase","test","validate","TypeError","v4","options","buf","rnds","random","MenuMap","Map","_this","contextAction","e","preventDefault","div","visibility","forEach","menu","click","innerRoot","setTimeout","bodyH","getHeight","bodyW","getWidth","bodyB","offsetHeight","bodyBW","offsetWidth","YY","pageY","WW","pageX","top","left","document","createElement","className","createRoot","appendChild","id","onclick","ContextMenuDidMount","prototype","html","documentElement","Math","max","scrollHeight","clientHeight","scrollWidth","clientWidth","_a","window","addEventListener","set","removeEventListener","delete","unmount","removeChild","useContextMenu","useEffect"],"sourceRoot":""}